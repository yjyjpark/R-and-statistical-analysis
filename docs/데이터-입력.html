<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 장 데이터 입력 | R과 통계분석</title>
  <meta name="description" content="3 장 데이터 입력 | R과 통계분석" />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="3 장 데이터 입력 | R과 통계분석" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 장 데이터 입력 | R과 통계분석" />
  
  
  

<meta name="author" content="박동련" />


<meta name="date" content="2023-02-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-structure.html"/>
<link rel="next" href="dplyr에-의한-데이터-다듬기.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>소개하기</a></li>
<li class="chapter" data-level="1" data-path="R-start.html"><a href="R-start.html"><i class="fa fa-check"></i><b>1</b> R 시작하기</a>
<ul>
<li class="chapter" data-level="1.1" data-path="R-start.html"><a href="R-start.html#r의-소개"><i class="fa fa-check"></i><b>1.1</b> R의 소개</a></li>
<li class="chapter" data-level="1.2" data-path="R-start.html"><a href="R-start.html#r의-설치"><i class="fa fa-check"></i><b>1.2</b> R의 설치</a></li>
<li class="chapter" data-level="1.3" data-path="R-start.html"><a href="R-start.html#rstudio의-설치-및-r의-실행"><i class="fa fa-check"></i><b>1.3</b> RStudio의 설치 및 R의 실행</a></li>
<li class="chapter" data-level="1.4" data-path="R-start.html"><a href="R-start.html#작업공간"><i class="fa fa-check"></i><b>1.4</b> 작업공간</a></li>
<li class="chapter" data-level="1.5" data-path="R-start.html"><a href="R-start.html#스크립트-파일의-활용"><i class="fa fa-check"></i><b>1.5</b> 스크립트 파일의 활용</a></li>
<li class="chapter" data-level="1.6" data-path="R-start.html"><a href="R-start.html#section-batch"><i class="fa fa-check"></i><b>1.6</b> 일괄처리</a></li>
<li class="chapter" data-level="1.7" data-path="R-start.html"><a href="R-start.html#section-package"><i class="fa fa-check"></i><b>1.7</b> R의 확장: 패키지</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="R-start.html"><a href="R-start.html#패키지의-종류"><i class="fa fa-check"></i><b>1.7.1</b> 패키지의 종류</a></li>
<li class="chapter" data-level="1.7.2" data-path="R-start.html"><a href="R-start.html#패키지의-설치-및-사용"><i class="fa fa-check"></i><b>1.7.2</b> 패키지의 설치 및 사용</a></li>
<li class="chapter" data-level="1.7.3" data-path="R-start.html"><a href="R-start.html#패키지-tidyverse의-소개"><i class="fa fa-check"></i><b>1.7.3</b> 패키지 <code>tidyverse</code>의 소개</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-structure.html"><a href="data-structure.html"><i class="fa fa-check"></i><b>2</b> R 데이터 구조</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-structure.html"><a href="data-structure.html#벡터"><i class="fa fa-check"></i><b>2.1</b> 벡터</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="data-structure.html"><a href="data-structure.html#벡터의-기본-특성"><i class="fa fa-check"></i><b>2.1.1</b> 벡터의 기본 특성</a></li>
<li class="chapter" data-level="2.1.2" data-path="data-structure.html"><a href="data-structure.html#다양한-형태를-갖는-벡터의-생성"><i class="fa fa-check"></i><b>2.1.2</b> 다양한 형태를 갖는 벡터의 생성</a></li>
<li class="chapter" data-level="2.1.3" data-path="data-structure.html"><a href="data-structure.html#문자열을-위한-함수"><i class="fa fa-check"></i><b>2.1.3</b> 문자열을 위한 함수</a></li>
<li class="chapter" data-level="2.1.4" data-path="data-structure.html"><a href="data-structure.html#벡터의-연산"><i class="fa fa-check"></i><b>2.1.4</b> 벡터의 연산</a></li>
<li class="chapter" data-level="2.1.5" data-path="data-structure.html"><a href="data-structure.html#vector-compare"><i class="fa fa-check"></i><b>2.1.5</b> 벡터의 비교</a></li>
<li class="chapter" data-level="2.1.6" data-path="data-structure.html"><a href="data-structure.html#벡터의-인덱싱"><i class="fa fa-check"></i><b>2.1.6</b> 벡터의 인덱싱</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data-structure.html"><a href="data-structure.html#요인"><i class="fa fa-check"></i><b>2.2</b> 요인</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="data-structure.html"><a href="data-structure.html#요인의-기본-특성"><i class="fa fa-check"></i><b>2.2.1</b> 요인의 기본 특성</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-structure.html"><a href="data-structure.html#숫자형-벡터를-요인으로-변환"><i class="fa fa-check"></i><b>2.2.2</b> 숫자형 벡터를 요인으로 변환</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="data-structure.html"><a href="data-structure.html#날짜"><i class="fa fa-check"></i><b>2.3</b> 날짜</a></li>
<li class="chapter" data-level="2.4" data-path="data-structure.html"><a href="data-structure.html#행렬-및-배열"><i class="fa fa-check"></i><b>2.4</b> 행렬 및 배열</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="data-structure.html"><a href="data-structure.html#행렬과-배열의-기본-특성"><i class="fa fa-check"></i><b>2.4.1</b> 행렬과 배열의 기본 특성</a></li>
<li class="chapter" data-level="2.4.2" data-path="data-structure.html"><a href="data-structure.html#행렬의-연산"><i class="fa fa-check"></i><b>2.4.2</b> 행렬의 연산</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="data-structure.html"><a href="data-structure.html#section-dataframe"><i class="fa fa-check"></i><b>2.5</b> 데이터 프레임</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="data-structure.html"><a href="data-structure.html#데이터-프레임의-생성"><i class="fa fa-check"></i><b>2.5.1</b> 데이터 프레임의 생성</a></li>
<li class="chapter" data-level="2.5.2" data-path="data-structure.html"><a href="data-structure.html#데이터-프레임의-인덱싱"><i class="fa fa-check"></i><b>2.5.2</b> 데이터 프레임의 인덱싱</a></li>
<li class="chapter" data-level="2.5.3" data-path="data-structure.html"><a href="data-structure.html#함수-with"><i class="fa fa-check"></i><b>2.5.3</b> 함수 <code>with()</code></a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="data-structure.html"><a href="data-structure.html#tibble-개선된-형태의-데이터-프레임"><i class="fa fa-check"></i><b>2.6</b> tibble: 개선된 형태의 데이터 프레임</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="data-structure.html"><a href="data-structure.html#tibble-생성"><i class="fa fa-check"></i><b>2.6.1</b> tibble 생성</a></li>
<li class="chapter" data-level="2.6.2" data-path="data-structure.html"><a href="data-structure.html#tibble과-전통적인-데이터-프레임의-차이"><i class="fa fa-check"></i><b>2.6.2</b> tibble과 전통적인 데이터 프레임의 차이</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="data-structure.html"><a href="data-structure.html#section-list"><i class="fa fa-check"></i><b>2.7</b> 리스트</a></li>
<li class="chapter" data-level="2.8" data-path="data-structure.html"><a href="data-structure.html#연습문제"><i class="fa fa-check"></i><b>2.8</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="데이터-입력.html"><a href="데이터-입력.html"><i class="fa fa-check"></i><b>3</b> 데이터 입력</a>
<ul>
<li class="chapter" data-level="3.1" data-path="데이터-입력.html"><a href="데이터-입력.html#텍스트-파일-불러오기-패키지-readr-함수의-활용"><i class="fa fa-check"></i><b>3.1</b> 텍스트 파일 불러오기: 패키지 <code>readr</code> 함수의 활용</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="데이터-입력.html"><a href="데이터-입력.html#함수-read_table로-데이터-파일-불러오기"><i class="fa fa-check"></i><b>3.1.1</b> 함수 <code>read_table()</code>로 데이터 파일 불러오기</a></li>
<li class="chapter" data-level="3.1.2" data-path="데이터-입력.html"><a href="데이터-입력.html#함수-read_csv로-csv-데이터-파일-불러오기"><i class="fa fa-check"></i><b>3.1.2</b> 함수 <code>read_csv()</code>로 CSV 데이터 파일 불러오기</a></li>
<li class="chapter" data-level="3.1.3" data-path="데이터-입력.html"><a href="데이터-입력.html#함수-read_fwf로-고정-포맷-구조를-갖는-데이터-파일-불러오기"><i class="fa fa-check"></i><b>3.1.3</b> 함수 <code>read_fwf()</code>로 고정 포맷 구조를 갖는 데이터 파일 불러오기</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="데이터-입력.html"><a href="데이터-입력.html#excel-파일-불러오기"><i class="fa fa-check"></i><b>3.2</b> Excel 파일 불러오기</a></li>
<li class="chapter" data-level="3.3" data-path="데이터-입력.html"><a href="데이터-입력.html#sas-데이터-파일-불러오기"><i class="fa fa-check"></i><b>3.3</b> SAS 데이터 파일 불러오기</a></li>
<li class="chapter" data-level="3.4" data-path="데이터-입력.html"><a href="데이터-입력.html#html-테이블-불러오기"><i class="fa fa-check"></i><b>3.4</b> HTML 테이블 불러오기</a></li>
<li class="chapter" data-level="3.5" data-path="데이터-입력.html"><a href="데이터-입력.html#연습문제-1"><i class="fa fa-check"></i><b>3.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html"><i class="fa fa-check"></i><b>4</b> <code>dplyr</code>에 의한 데이터 다듬기</a>
<ul>
<li class="chapter" data-level="4.1" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#행을-작업-대상으로-하는-함수"><i class="fa fa-check"></i><b>4.1</b> 행을 작업 대상으로 하는 함수</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#조건에-의한-행-선택-filter"><i class="fa fa-check"></i><b>4.1.1</b> 조건에 의한 행 선택: <code>filter()</code></a></li>
<li class="chapter" data-level="4.1.2" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#위치에-의한-행-선택-slice-및-그와-관련된-함수"><i class="fa fa-check"></i><b>4.1.2</b> 위치에 의한 행 선택: <code>slice()</code> 및 그와 관련된 함수</a></li>
<li class="chapter" data-level="4.1.3" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#행의-정렬-arrange"><i class="fa fa-check"></i><b>4.1.3</b> 행의 정렬: <code>arrange()</code></a></li>
<li class="chapter" data-level="4.1.4" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#중복된-행의-제거-distinct"><i class="fa fa-check"></i><b>4.1.4</b> 중복된 행의 제거: <code>distinct()</code></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#열을-작업-대상으로-하는-함수"><i class="fa fa-check"></i><b>4.2</b> 열을 작업 대상으로 하는 함수</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#열의-선택-select"><i class="fa fa-check"></i><b>4.2.1</b> 열의 선택: <code>select()</code></a></li>
<li class="chapter" data-level="4.2.2" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#열-이름-변경-rename과-rename_with"><i class="fa fa-check"></i><b>4.2.2</b> 열 이름 변경: <code>rename()</code>과 <code>rename_with()</code></a></li>
<li class="chapter" data-level="4.2.3" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#열의-위치-변경-relocate"><i class="fa fa-check"></i><b>4.2.3</b> 열의 위치 변경: <code>relocate()</code></a></li>
<li class="chapter" data-level="4.2.4" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#새로운-열의-추가-mutate와-transmute"><i class="fa fa-check"></i><b>4.2.4</b> 새로운 열의 추가: <code>mutate()</code>와 <code>transmute()</code></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#여러-행-자료의-요약-summarise"><i class="fa fa-check"></i><b>4.3</b> 여러 행 자료의 요약: <code>summarise()</code></a></li>
<li class="chapter" data-level="4.4" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#그룹-데이터-프레임"><i class="fa fa-check"></i><b>4.4</b> 그룹 데이터 프레임</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#그룹-데이터-프레임의-생성-group_by"><i class="fa fa-check"></i><b>4.4.1</b> 그룹 데이터 프레임의 생성: <code>group_by()</code></a></li>
<li class="chapter" data-level="4.4.2" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#그룹-데이터-프레임에서-기본-함수들의-작동-방식"><i class="fa fa-check"></i><b>4.4.2</b> 그룹 데이터 프레임에서 기본 함수들의 작동 방식</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#다수의-열을-대상으로-하는-작업-across"><i class="fa fa-check"></i><b>4.5</b> 다수의 열을 대상으로 하는 작업: <code>across()</code></a></li>
<li class="chapter" data-level="4.6" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#행-단위-작업-rowwise"><i class="fa fa-check"></i><b>4.6</b> 행 단위 작업: <code>rowwise()</code></a></li>
<li class="chapter" data-level="4.7" data-path="dplyr에-의한-데이터-다듬기.html"><a href="dplyr에-의한-데이터-다듬기.html#연습문제-2"><i class="fa fa-check"></i><b>4.7</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chapter-ggplot2.html"><a href="chapter-ggplot2.html"><i class="fa fa-check"></i><b>5</b> <code>ggplot2</code>에 의한 자료 시각화</a>
<ul>
<li class="chapter" data-level="5.1" data-path="chapter-ggplot2.html"><a href="chapter-ggplot2.html#ggplot2-시작하기"><i class="fa fa-check"></i><b>5.1</b> <code>ggplot2</code> 시작하기</a></li>
<li class="chapter" data-level="5.2" data-path="chapter-ggplot2.html"><a href="chapter-ggplot2.html#시각적-요소와의-연결-mapping"><i class="fa fa-check"></i><b>5.2</b> 시각적 요소와의 연결: Mapping</a></li>
<li class="chapter" data-level="5.3" data-path="chapter-ggplot2.html"><a href="chapter-ggplot2.html#그룹별-그래프-작성-facet"><i class="fa fa-check"></i><b>5.3</b> 그룹별 그래프 작성: Facet</a></li>
<li class="chapter" data-level="5.4" data-path="chapter-ggplot2.html"><a href="chapter-ggplot2.html#section-geom"><i class="fa fa-check"></i><b>5.4</b> 기하 객체: Geometric object</a></li>
<li class="chapter" data-level="5.5" data-path="chapter-ggplot2.html"><a href="chapter-ggplot2.html#통계적-변환-statistical-transformation"><i class="fa fa-check"></i><b>5.5</b> 통계적 변환: Statistical transformation</a></li>
<li class="chapter" data-level="5.6" data-path="chapter-ggplot2.html"><a href="chapter-ggplot2.html#위치-조정-position-adjustments"><i class="fa fa-check"></i><b>5.6</b> 위치 조정: Position adjustments</a></li>
<li class="chapter" data-level="5.7" data-path="chapter-ggplot2.html"><a href="chapter-ggplot2.html#좌표계-coordinate-system"><i class="fa fa-check"></i><b>5.7</b> 좌표계: Coordinate system</a></li>
<li class="chapter" data-level="5.8" data-path="chapter-ggplot2.html"><a href="chapter-ggplot2.html#연습문제-3"><i class="fa fa-check"></i><b>5.8</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ch6.html"><a href="ch6.html"><i class="fa fa-check"></i><b>6</b> Tidyverse를 활용한 데이터 다루기</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ch6.html"><a href="ch6.html#tidyr로-tidy-데이터-만들기"><i class="fa fa-check"></i><b>6.1</b> <code>tidyr</code>로 tidy 데이터 만들기</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="ch6.html"><a href="ch6.html#데이터-피벗-pivot_longer와-pivot_wider"><i class="fa fa-check"></i><b>6.1.1</b> 데이터 피벗: <code>pivot_longer()</code>와 <code>pivot_wider()</code></a></li>
<li class="chapter" data-level="6.1.2" data-path="ch6.html"><a href="ch6.html#문자형-열의-결합과-분리-separate와-unite"><i class="fa fa-check"></i><b>6.1.2</b> 문자형 열의 결합과 분리: <code>separate()</code>와 <code>unite()</code></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="ch6.html"><a href="ch6.html#dplyr에-의한-데이터-결합"><i class="fa fa-check"></i><b>6.2</b> <code>dplyr</code>에 의한 데이터 결합</a></li>
<li class="chapter" data-level="6.3" data-path="ch6.html"><a href="ch6.html#stringr에-의한-문자-다루기"><i class="fa fa-check"></i><b>6.3</b> <code>stringr</code>에 의한 문자 다루기</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="ch6.html"><a href="ch6.html#stringr의-함수"><i class="fa fa-check"></i><b>6.3.1</b> <code>stringr</code>의 함수</a></li>
<li class="chapter" data-level="6.3.2" data-path="ch6.html"><a href="ch6.html#정규-표현식과-stringr의-함수"><i class="fa fa-check"></i><b>6.3.2</b> 정규 표현식과 <code>stringr</code>의 함수</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chapter-programming.html"><a href="chapter-programming.html"><i class="fa fa-check"></i><b>7</b> R에서의 프로그래밍</a>
<ul>
<li class="chapter" data-level="7.1" data-path="chapter-programming.html"><a href="chapter-programming.html#사용자-정의-함수"><i class="fa fa-check"></i><b>7.1</b> 사용자 정의 함수</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="chapter-programming.html"><a href="chapter-programming.html#함수의-정의"><i class="fa fa-check"></i><b>7.1.1</b> 함수의 정의</a></li>
<li class="chapter" data-level="7.1.2" data-path="chapter-programming.html"><a href="chapter-programming.html#변수"><i class="fa fa-check"></i><b>7.1.2</b> 변수</a></li>
<li class="chapter" data-level="7.1.3" data-path="chapter-programming.html"><a href="chapter-programming.html#변수-지정"><i class="fa fa-check"></i><b>7.1.3</b> 변수 지정</a></li>
<li class="chapter" data-level="7.1.4" data-path="chapter-programming.html"><a href="chapter-programming.html#결과의-출력"><i class="fa fa-check"></i><b>7.1.4</b> 결과의 출력</a></li>
<li class="chapter" data-level="7.1.5" data-path="chapter-programming.html"><a href="chapter-programming.html#유효-범위"><i class="fa fa-check"></i><b>7.1.5</b> 유효 범위</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="chapter-programming.html"><a href="chapter-programming.html#조건-연산"><i class="fa fa-check"></i><b>7.2</b> 조건 연산</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="chapter-programming.html"><a href="chapter-programming.html#함수-if에-의한-조건-연산"><i class="fa fa-check"></i><b>7.2.1</b> 함수 <code>if()</code>에 의한 조건 연산</a></li>
<li class="chapter" data-level="7.2.2" data-path="chapter-programming.html"><a href="chapter-programming.html#함수-ifelse에-의한-조건-연산"><i class="fa fa-check"></i><b>7.2.2</b> 함수 <code>ifelse()</code>에 의한 조건 연산</a></li>
<li class="chapter" data-level="7.2.3" data-path="chapter-programming.html"><a href="chapter-programming.html#함수-switch에-의한-조건-연산"><i class="fa fa-check"></i><b>7.2.3</b> 함수 <code>switch()</code>에 의한 조건 연산</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="chapter-programming.html"><a href="chapter-programming.html#루프-연산"><i class="fa fa-check"></i><b>7.3</b> 루프 연산</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="chapter-programming.html"><a href="chapter-programming.html#for-루프"><i class="fa fa-check"></i><b>7.3.1</b> for 루프</a></li>
<li class="chapter" data-level="7.3.2" data-path="chapter-programming.html"><a href="chapter-programming.html#while-루프"><i class="fa fa-check"></i><b>7.3.2</b> while 루프</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="chapter-programming.html"><a href="chapter-programming.html#함수형-프로그래밍"><i class="fa fa-check"></i><b>7.4</b> 함수형 프로그래밍</a></li>
<li class="chapter" data-level="7.5" data-path="chapter-programming.html"><a href="chapter-programming.html#함수형-프로그래밍으로-행렬과-데이터-프레임-다루기"><i class="fa fa-check"></i><b>7.5</b> 함수형 프로그래밍으로 행렬과 데이터 프레임 다루기</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="chapter-programming.html"><a href="chapter-programming.html#행렬에-함수형-프로그래밍-적용하기"><i class="fa fa-check"></i><b>7.5.1</b> 행렬에 함수형 프로그래밍 적용하기</a></li>
<li class="chapter" data-level="7.5.2" data-path="chapter-programming.html"><a href="chapter-programming.html#데이터-프레임에-함수형-프로그래밍-적용하기"><i class="fa fa-check"></i><b>7.5.2</b> 데이터 프레임에 함수형 프로그래밍 적용하기</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="chapter-programming.html"><a href="chapter-programming.html#purrr에-의한-프로그래밍"><i class="fa fa-check"></i><b>7.6</b> <code>purrr</code>에 의한 프로그래밍</a></li>
<li class="chapter" data-level="7.7" data-path="chapter-programming.html"><a href="chapter-programming.html#연습문제-4"><i class="fa fa-check"></i><b>7.7</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="chapter-distribution.html"><a href="chapter-distribution.html"><i class="fa fa-check"></i><b>8</b> 확률분포</a>
<ul>
<li class="chapter" data-level="8.1" data-path="chapter-distribution.html"><a href="chapter-distribution.html#r에서의-확률분포-이름"><i class="fa fa-check"></i><b>8.1</b> R에서의 확률분포 이름</a></li>
<li class="chapter" data-level="8.2" data-path="chapter-distribution.html"><a href="chapter-distribution.html#연속형-확률분포"><i class="fa fa-check"></i><b>8.2</b> 연속형 확률분포</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="chapter-distribution.html"><a href="chapter-distribution.html#정규분포"><i class="fa fa-check"></i><b>8.2.1</b> 정규분포</a></li>
<li class="chapter" data-level="8.2.2" data-path="chapter-distribution.html"><a href="chapter-distribution.html#지수분포"><i class="fa fa-check"></i><b>8.2.2</b> 지수분포</a></li>
<li class="chapter" data-level="8.2.3" data-path="chapter-distribution.html"><a href="chapter-distribution.html#균등분포"><i class="fa fa-check"></i><b>8.2.3</b> 균등분포</a></li>
<li class="chapter" data-level="8.2.4" data-path="chapter-distribution.html"><a href="chapter-distribution.html#t-분포"><i class="fa fa-check"></i><b>8.2.4</b> t-분포</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="chapter-distribution.html"><a href="chapter-distribution.html#이산형-분포"><i class="fa fa-check"></i><b>8.3</b> 이산형 분포</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="chapter-distribution.html"><a href="chapter-distribution.html#베르누이-분포와-이항분포"><i class="fa fa-check"></i><b>8.3.1</b> 베르누이 분포와 이항분포</a></li>
<li class="chapter" data-level="8.3.2" data-path="chapter-distribution.html"><a href="chapter-distribution.html#포아송-분포"><i class="fa fa-check"></i><b>8.3.2</b> 포아송 분포</a></li>
<li class="chapter" data-level="8.3.3" data-path="chapter-distribution.html"><a href="chapter-distribution.html#초기하분포"><i class="fa fa-check"></i><b>8.3.3</b> 초기하분포</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="chapter-distribution.html"><a href="chapter-distribution.html#모의실험"><i class="fa fa-check"></i><b>8.4</b> 모의실험</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chapter-EDA.html"><a href="chapter-EDA.html"><i class="fa fa-check"></i><b>9</b> 자료 탐색</a>
<ul>
<li class="chapter" data-level="9.1" data-path="chapter-EDA.html"><a href="chapter-EDA.html#일변량-범주형-자료-탐색"><i class="fa fa-check"></i><b>9.1</b> 일변량 범주형 자료 탐색</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="chapter-EDA.html"><a href="chapter-EDA.html#막대그래프"><i class="fa fa-check"></i><b>9.1.1</b> 막대그래프</a></li>
<li class="chapter" data-level="9.1.2" data-path="chapter-EDA.html"><a href="chapter-EDA.html#파이그래프"><i class="fa fa-check"></i><b>9.1.2</b> 파이그래프</a></li>
<li class="chapter" data-level="9.1.3" data-path="chapter-EDA.html"><a href="chapter-EDA.html#cleveland의-점그래프"><i class="fa fa-check"></i><b>9.1.3</b> Cleveland의 점그래프</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="chapter-EDA.html"><a href="chapter-EDA.html#이변량-및-다변량-범주형-자료-탐색"><i class="fa fa-check"></i><b>9.2</b> 이변량 및 다변량 범주형 자료 탐색</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="chapter-EDA.html"><a href="chapter-EDA.html#분할표-작성"><i class="fa fa-check"></i><b>9.2.1</b> 분할표 작성</a></li>
<li class="chapter" data-level="9.2.2" data-path="chapter-EDA.html"><a href="chapter-EDA.html#이변량-및-다변량-범주형-자료를-위한-그래프"><i class="fa fa-check"></i><b>9.2.2</b> 이변량 및 다변량 범주형 자료를 위한 그래프</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="chapter-EDA.html"><a href="chapter-EDA.html#일변량-연속형-자료-탐색"><i class="fa fa-check"></i><b>9.3</b> 일변량 연속형 자료 탐색</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="chapter-EDA.html"><a href="chapter-EDA.html#줄기-잎-그림"><i class="fa fa-check"></i><b>9.3.1</b> 줄기-잎 그림</a></li>
<li class="chapter" data-level="9.3.2" data-path="chapter-EDA.html"><a href="chapter-EDA.html#section-boxplot"><i class="fa fa-check"></i><b>9.3.2</b> 상자그림</a></li>
<li class="chapter" data-level="9.3.3" data-path="chapter-EDA.html"><a href="chapter-EDA.html#히스토그램"><i class="fa fa-check"></i><b>9.3.3</b> 히스토그램</a></li>
<li class="chapter" data-level="9.3.4" data-path="chapter-EDA.html"><a href="chapter-EDA.html#section-prob-density"><i class="fa fa-check"></i><b>9.3.4</b> 확률밀도함수 그래프</a></li>
<li class="chapter" data-level="9.3.5" data-path="chapter-EDA.html"><a href="chapter-EDA.html#기타-유용한-그래프"><i class="fa fa-check"></i><b>9.3.5</b> 기타 유용한 그래프</a></li>
<li class="chapter" data-level="9.3.6" data-path="chapter-EDA.html"><a href="chapter-EDA.html#일변량-연속형-자료의-요약통계"><i class="fa fa-check"></i><b>9.3.6</b> 일변량 연속형 자료의 요약통계</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="chapter-EDA.html"><a href="chapter-EDA.html#이변량-연속형-자료-탐색"><i class="fa fa-check"></i><b>9.4</b> 이변량 연속형 자료 탐색</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="chapter-EDA.html"><a href="chapter-EDA.html#연속형-변수의-분포를-비교하기-위한-그래프"><i class="fa fa-check"></i><b>9.4.1</b> 연속형 변수의 분포를 비교하기 위한 그래프</a></li>
<li class="chapter" data-level="9.4.2" data-path="chapter-EDA.html"><a href="chapter-EDA.html#연속형-변수의-관계-탐색을-위한-그래프"><i class="fa fa-check"></i><b>9.4.2</b> 연속형 변수의 관계 탐색을 위한 그래프</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="chapter-EDA.html"><a href="chapter-EDA.html#연습문제-5"><i class="fa fa-check"></i><b>9.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="참고-문헌.html"><a href="참고-문헌.html"><i class="fa fa-check"></i>참고 문헌</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R과 통계분석</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="데이터-입력" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3 장</span> 데이터 입력<a href="데이터-입력.html#데이터-입력" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><a href="data-structure.html#data-structure">2</a>장에서는 다양한 R 데이터 객체에 대해 살펴보았다. 지금부터는 모든 통계분석 및 그래프 작성의 첫 단계라고 할 수 있는 데이터 입력 방법에 대해 살펴보자. R은 텍스트 파일, 다른 통계 소프트웨어 전용 데이터 파일, Excel 파일 및 HTML 테이블 등 다양한 유형의 데이터 파일을 비교적 간단하게 불러올 수 있다.</p>
<div id="텍스트-파일-불러오기-패키지-readr-함수의-활용" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> 텍스트 파일 불러오기: 패키지 <code>readr</code> 함수의 활용<a href="데이터-입력.html#텍스트-파일-불러오기-패키지-readr-함수의-활용" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>많은 경우에 데이터 파일은 텍스트 파일의 형태로 저장되어 있다. 통계 데이터 세트는 행과 열의 2차원 형태로 구성되는데, 입력 형식은 매우 다양할 수 있다. 즉, 각각의 자료들이 빈칸으로 구분된 경우, 콤마로 구분된 경우, 고정 포맷 구조로 구성된 경우 등이 있게 된다. 따라서 이렇게 각기 다른 구성 형식의 텍스트 파일을 불러오는데 적합한 함수가 필요한 것이다.</p>
<p>외부 텍스트 파일을 불러오는 작업은 base R 함수인 <code>read.table()</code> 또는 <code>read.csv()</code>로 할 수 있으나, 크기가 큰 텍스트 파일을 불러와야 하는 경우에는 시간이 많이 걸린다는 문제가 있다. 이 절에서는 <code>tidyverse</code>에 속한 패키지 <code>readr</code>의 함수를 사용하여 효율적으로 텍스트 파일을 불러오는 방법을 살펴보겠다. 패키지 <code>readr</code>에는 텍스트 파일의 구성 형식에 맞추어 사용할 수 있는 다양한 함수가 마련되어 있다. 각각의 자료들이 하나 이상의 빈 칸으로 구분된 경우에는 <code>read_table()</code>, 콤마로 구분된 경우에는 함수 <code>read_csv()</code>, 탭으로 구분된 경우에는 함수 <code>read_tsv()</code>, 그 외 다른 형태의 구분자로 구분된 경우는 함수 <code>read_delim()</code>을 사용할 수 있으며, 고정된 포맷 구조를 갖는 경우에는 함수 <code>read_fwf</code>()을 사용하여 자료를 불러올 수 있다.</p>
<p>이 함수들은 불러올 파일의 경로를 포함한 파일 이름이 첫 번째 입력 요소가 된다. 파일 이름이 <code>.gz</code> 또는 <code>.zip</code> 등으로 끝나는 압축 파일은 자동으로 압축을 해제하고 자료를 불러온다. 또한 <code>http://</code>, <code>https://</code>, <code>ftp://</code>, <code>ftps://</code>로 시작되는 웹 서버에 있는 텍스트 파일도 불러올 수 있다.</p>
<div id="함수-read_table로-데이터-파일-불러오기" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> 함수 <code>read_table()</code>로 데이터 파일 불러오기<a href="데이터-입력.html#함수-read_table로-데이터-파일-불러오기" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>자료들이 하나 이상의 빈칸으로 구분된 경우에는 <code>read_table()</code>를 사용하여 파일을 불러올 수 있다.</p>
<p><strong>1)</strong> 데이터 파일의 첫 줄에 변수 이름이 입력되어 있는 경우</p>
<p>예를 들어 파일 <code>data2_1.txt</code>에 세 변수의 자료가 다음과 같이 있다고 하자. 이런 경우에는 함수 <code>read_table()</code>에 파일의 위치와 함께 파일의 이름만 입력하면 된다.</p>
<div class="figure">
<img src="Figure/data2_1.png" title="data2_1.txt" id="data2-1" alt="" />
<p class="caption">data2_1.txt</p>
</div>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="데이터-입력.html#cb286-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb286-2"><a href="데이터-입력.html#cb286-2" aria-hidden="true" tabindex="-1"></a><span class="fu">read_table</span>(<span class="st">&quot;https://raw.githubusercontent.com/yjyjpark/R-and-statistical-analysis/master/Data/data2_1.txt&quot;</span>)</span>
<span id="cb286-3"><a href="데이터-입력.html#cb286-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 4 × 3</span></span>
<span id="cb286-4"><a href="데이터-입력.html#cb286-4" aria-hidden="true" tabindex="-1"></a><span class="do">##     age gender income</span></span>
<span id="cb286-5"><a href="데이터-입력.html#cb286-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;</span></span>
<span id="cb286-6"><a href="데이터-입력.html#cb286-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    24 M        2000</span></span>
<span id="cb286-7"><a href="데이터-입력.html#cb286-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35 F        3100</span></span>
<span id="cb286-8"><a href="데이터-입력.html#cb286-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    28 F        3800</span></span>
<span id="cb286-9"><a href="데이터-입력.html#cb286-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    21 F        2800</span></span></code></pre></div>
<p>패키지 <code>readr</code>에 속한 함수들은 각 변수의 유형을 스스로 파악한다. 각 변수마다 처음 1000개의 자료를 읽고 정해진 규칙에 의하여 문자형, 정수형, 숫자형, 논리형 등으로 유형을 결정한다. 스스로 자료의 유형을 파악한 경우에는 각 변수별로 파악된 결과를 출력한다.</p>
<p>각 변수의 유형은 사용자가 직접 선언할 수도 있는데, 가장 간단한 방법은 입력 요소 <code>col_types</code>에 변수의 유형을 나타내는 문자를 변수가 입력된 순서대로 나열하여 지정하는 것이다. 자료의 유형을 나타내는 문자에는 <code>c</code>(문자형), <code>i</code>(정수형), <code>d</code>(실수형), <code>n</code>(숫자형), <code>l</code> (논리형), <code>f</code>(요인), <code>D</code>(날짜) 등이 있다. 예를 들어 파일 <code>data2_1.txt</code>의 경우에는 다음과 같이 자료의 유형을 선언하여 자료를 불러올 수 있다.</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="데이터-입력.html#cb287-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_table</span>(<span class="st">&quot;https://raw.githubusercontent.com/yjyjpark/R-and-statistical-analysis/master/Data/data2_1.txt&quot;</span>, </span>
<span id="cb287-2"><a href="데이터-입력.html#cb287-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">col_types =</span> <span class="st">&quot;dcd&quot;</span>)</span>
<span id="cb287-3"><a href="데이터-입력.html#cb287-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 4 × 3</span></span>
<span id="cb287-4"><a href="데이터-입력.html#cb287-4" aria-hidden="true" tabindex="-1"></a><span class="do">##     age gender income</span></span>
<span id="cb287-5"><a href="데이터-입력.html#cb287-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;</span></span>
<span id="cb287-6"><a href="데이터-입력.html#cb287-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    24 M        2000</span></span>
<span id="cb287-7"><a href="데이터-입력.html#cb287-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35 F        3100</span></span>
<span id="cb287-8"><a href="데이터-입력.html#cb287-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    28 F        3800</span></span>
<span id="cb287-9"><a href="데이터-입력.html#cb287-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    21 F        2800</span></span></code></pre></div>
<p><strong>2)</strong> 데이터만 파일에 입력되어 있는 경우</p>
<p>첫 줄에 변수 이름이 입력되어 있지 않은 데이터 파일도 많이 있다. 예를 들어 파일 <code>data2_2.txt</code>에 세 변수에 대한 데이터가 다음과 같이 있다고 하자.</p>
<div class="figure">
<img src="Figure/data2_2.png" title="data2_2.txt" id="data2-2" alt="" />
<p class="caption">data2_2.txt</p>
</div>
<p>이런 경우에는 입력 요소 <code>col_names</code>에 <code>FALSE</code>를 지정하거나 변수 이름을 나타내는 문자형 벡터를 지정해야 한다. 아무것도 지정하지 않으면 데이터 파일의 첫 줄에 입력된 자료가 각 변수의 이름으로 사용되는 오류가 발생한다. <code>FALSE</code>를 지정한 경우에 변수 이름은 <code>X1</code>, <code>X2</code>, <code>X3</code> 등이 된다.</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="데이터-입력.html#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_table</span>(<span class="st">&quot;https://raw.githubusercontent.com/yjyjpark/R-and-statistical-analysis/master/Data/data2_2.txt&quot;</span>, </span>
<span id="cb288-2"><a href="데이터-입력.html#cb288-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">col_names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb288-3"><a href="데이터-입력.html#cb288-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 4 × 3</span></span>
<span id="cb288-4"><a href="데이터-입력.html#cb288-4" aria-hidden="true" tabindex="-1"></a><span class="do">##      X1 X2       X3</span></span>
<span id="cb288-5"><a href="데이터-입력.html#cb288-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;</span></span>
<span id="cb288-6"><a href="데이터-입력.html#cb288-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    24 M      2000</span></span>
<span id="cb288-7"><a href="데이터-입력.html#cb288-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35 F      3100</span></span>
<span id="cb288-8"><a href="데이터-입력.html#cb288-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    28 F      3800</span></span>
<span id="cb288-9"><a href="데이터-입력.html#cb288-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    21 F      2800</span></span></code></pre></div>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="데이터-입력.html#cb289-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_table</span>(<span class="st">&quot;https://raw.githubusercontent.com/yjyjpark/R-and-statistical-analysis/master/Data/data2_2.txt&quot;</span>, </span>
<span id="cb289-2"><a href="데이터-입력.html#cb289-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">col_names =</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;income&quot;</span>))</span>
<span id="cb289-3"><a href="데이터-입력.html#cb289-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 4 × 3</span></span>
<span id="cb289-4"><a href="데이터-입력.html#cb289-4" aria-hidden="true" tabindex="-1"></a><span class="do">##     age gender income</span></span>
<span id="cb289-5"><a href="데이터-입력.html#cb289-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;</span></span>
<span id="cb289-6"><a href="데이터-입력.html#cb289-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    24 M        2000</span></span>
<span id="cb289-7"><a href="데이터-입력.html#cb289-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35 F        3100</span></span>
<span id="cb289-8"><a href="데이터-입력.html#cb289-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    28 F        3800</span></span>
<span id="cb289-9"><a href="데이터-입력.html#cb289-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    21 F        2800</span></span></code></pre></div>
<p><strong>3)</strong> 데이터 파일에 주석이 입력된 경우</p>
<p>데이터 파일에 주석이 있는 경우, 해당 행을 무시하기 위해서는 주석이 시작됨을 나타내는 기호를 입력 요소 <code>comment</code>에 지정하면 된다. 만일 기호 <code>#</code>을 주석 기호로 사용했다면 <code>comment = "#"</code>을 입력하면 된다. 또한 만일 주석이 데이터 파일의 처음 몇 개 행에 입력되어 있다면, 입력 요소 <code>skip</code>을 사용하여 해당되는 처음 몇 개 행을 읽지 않고 그냥 넘기는 방법을 사용할 수도 있다. 예를 들어 파일 <code>data2_3.txt</code>의 처음 세 줄이 다음과 같이 <code>#</code> 기호로 시작되는 주석이 입력되어 있다고 하자. 이 파일을 두 가지 방법을 각각 사용하여 불러와 보자.</p>
<div class="figure">
<img src="Figure/data2_3.png" title="data2_3.txt" id="data2-3" alt="" />
<p class="caption">data2_3.txt</p>
</div>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="데이터-입력.html#cb290-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_table</span>(<span class="st">&quot;https://raw.githubusercontent.com/yjyjpark/R-and-statistical-analysis/master/Data/data2_3.txt&quot;</span>,</span>
<span id="cb290-2"><a href="데이터-입력.html#cb290-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">comment =</span> <span class="st">&quot;#&quot;</span>)</span>
<span id="cb290-3"><a href="데이터-입력.html#cb290-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 4 × 3</span></span>
<span id="cb290-4"><a href="데이터-입력.html#cb290-4" aria-hidden="true" tabindex="-1"></a><span class="do">##      x1    x2    x3</span></span>
<span id="cb290-5"><a href="데이터-입력.html#cb290-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb290-6"><a href="데이터-입력.html#cb290-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    24     1  2000</span></span>
<span id="cb290-7"><a href="데이터-입력.html#cb290-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35     0  3100</span></span>
<span id="cb290-8"><a href="데이터-입력.html#cb290-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    28     0  3800</span></span>
<span id="cb290-9"><a href="데이터-입력.html#cb290-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    21     0  2800</span></span></code></pre></div>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="데이터-입력.html#cb291-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_table</span>(<span class="st">&quot;https://raw.githubusercontent.com/yjyjpark/R-and-statistical-analysis/master/Data/data2_3.txt&quot;</span>, </span>
<span id="cb291-2"><a href="데이터-입력.html#cb291-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">skip =</span> <span class="dv">3</span>)</span>
<span id="cb291-3"><a href="데이터-입력.html#cb291-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 4 × 3</span></span>
<span id="cb291-4"><a href="데이터-입력.html#cb291-4" aria-hidden="true" tabindex="-1"></a><span class="do">##      x1    x2    x3</span></span>
<span id="cb291-5"><a href="데이터-입력.html#cb291-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb291-6"><a href="데이터-입력.html#cb291-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    24     1  2000</span></span>
<span id="cb291-7"><a href="데이터-입력.html#cb291-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35     0  3100</span></span>
<span id="cb291-8"><a href="데이터-입력.html#cb291-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    28     0  3800</span></span>
<span id="cb291-9"><a href="데이터-입력.html#cb291-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    21     0  2800</span></span></code></pre></div>
<p><strong>4)</strong> 데이터 파일에 결측값이 <code>NA</code>가 아닌 다른 기호로 입력된 경우</p>
<p>데이터에 결측값이 있는 것은 당연한 것으로 봐야 한다. R에서는 결측값을 <code>NA</code>로 표시하기 때문에 데이터에 결측값이 있다면 해당되는 자리에 <code>NA</code>를 입력해야 한다. 그러나 경우에 따라서 결측값이 다른 숫자나 문자 혹은 기호로 데이터 파일에 입력될 수도 있는데, 예를 들어 SAS의 경우 결측값은 점(.)으로 표시한다. 이렇듯 다른 기호로 결측값이 입력된 경우 에는 옵션 <code>na</code>에 해당 기호를 지정해 주어야 한다. 만일 결측값이 점(.)으로만 입력되어 있다면 <code>na = "."</code>으로 지정하면 되지만 <code>NA</code>와 점(.)이 모두 결측값을 나타내는 기호로 사용되었다면 <code>na = c(".", "NA")</code>로 두 기호를 모두 지정해야 한다. 예를 들어 <code>data2_4.txt</code>에 다음과 같이 <code>NA</code>와 점(.)이 모두 결측값을 나타내는 기호로 사용되어 있다고 하자. 이 파일을 옵션 <code>na</code>를 사용해서 불러 보자.</p>
<div class="figure">
<img src="Figure/data2_4.png" title="data2_4.txt" id="data2-4" alt="" />
<p class="caption">data2_4.txt</p>
</div>
<p><code>na = "."</code>로 점(.)만을 결측값으로 지정하면, <code>income</code> 변수의 네 번째 자료인 <code>NA</code>는 결측값이 아닌 문자형 자료로 인식된다. 따라서 변수 <code>income</code>의 유형이 숫자형이 아닌 문자형이 된 것이다.</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="데이터-입력.html#cb292-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_table</span>(<span class="st">&quot;https://raw.githubusercontent.com/yjyjpark/R-and-statistical-analysis/master/Data/data2_4.txt&quot;</span>, </span>
<span id="cb292-2"><a href="데이터-입력.html#cb292-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">na =</span> <span class="st">&quot;.&quot;</span>)</span>
<span id="cb292-3"><a href="데이터-입력.html#cb292-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 4 × 3</span></span>
<span id="cb292-4"><a href="데이터-입력.html#cb292-4" aria-hidden="true" tabindex="-1"></a><span class="do">##     age gender income</span></span>
<span id="cb292-5"><a href="데이터-입력.html#cb292-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt; </span></span>
<span id="cb292-6"><a href="데이터-입력.html#cb292-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    24 M      2000  </span></span>
<span id="cb292-7"><a href="데이터-입력.html#cb292-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    NA F      3100  </span></span>
<span id="cb292-8"><a href="데이터-입력.html#cb292-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    28 &lt;NA&gt;   3800  </span></span>
<span id="cb292-9"><a href="데이터-입력.html#cb292-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    21 F      NA</span></span></code></pre></div>
<p><code>na = c(".", "NA")</code>로 두 기호를 모두 결측값으로 지정해서 다시 불러 보자.</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="데이터-입력.html#cb293-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_table</span>(<span class="st">&quot;https://raw.githubusercontent.com/yjyjpark/R-and-statistical-analysis/master/Data/data2_4.txt&quot;</span>, </span>
<span id="cb293-2"><a href="데이터-입력.html#cb293-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">na =</span> <span class="fu">c</span>(<span class="st">&quot;.&quot;</span>, <span class="st">&quot;NA&quot;</span>))</span>
<span id="cb293-3"><a href="데이터-입력.html#cb293-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 4 × 3</span></span>
<span id="cb293-4"><a href="데이터-입력.html#cb293-4" aria-hidden="true" tabindex="-1"></a><span class="do">##     age gender income</span></span>
<span id="cb293-5"><a href="데이터-입력.html#cb293-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;</span></span>
<span id="cb293-6"><a href="데이터-입력.html#cb293-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    24 M        2000</span></span>
<span id="cb293-7"><a href="데이터-입력.html#cb293-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    NA F        3100</span></span>
<span id="cb293-8"><a href="데이터-입력.html#cb293-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    28 &lt;NA&gt;     3800</span></span>
<span id="cb293-9"><a href="데이터-입력.html#cb293-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    21 F          NA</span></span></code></pre></div>
<ul>
<li>함수 <code>file.choose()</code></li>
</ul>
<p>외부 파일을 R로 불러오는 과정에서 파일이 저장되어 있는 폴더의 정확한 위치를 잊는 경우가 가끔 있다. 혹은 정확하다고 생각되는 파일의 경로를 입력했는데도 파일을 열 수 없다는 오류가 발생하는 경우도 있다.
이런 경우에 함수 <code>file.choose()</code>를 이용하면 굳이 윈도우 파일 탐색기를 이용하여 파일의 위치를 다시 확인하지 않고도 파일에 접근할 수 있다.
예를 들어 함수 <code>read_table()</code> 등에 파일의 위치와 더불어 파일 이름을 입력하는 대신 <code>read_table(file.choose())</code>를 실행하면 탐색기 창이 나타나서 접근하고자 하는 파일을 쉽게 찾을 수 있다.</p>
</div>
<div id="함수-read_csv로-csv-데이터-파일-불러오기" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> 함수 <code>read_csv()</code>로 CSV 데이터 파일 불러오기<a href="데이터-입력.html#함수-read_csv로-csv-데이터-파일-불러오기" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>CSV(Comma Separated Values) 파일이란 각 자료들이 콤마로 구분된 형식의 데이터 파일을 의미한다. Excel을 포함하는 많은 소프트웨어들이 CSV 형식의 데이터 파일을 읽어 올 수도 있고 작업결과를 CSV 형식으로 저장할 수도 있기 때문에 자주 사용되는 형식의 데이터 파일이라고 하겠다. 예들 들어 파일 <code>data3_1.txt</code>에 자료들이 다음과 같이 콤마로 구분되어 있고, 첫 줄에는 변수 이름이 입력되어 있다고 하자. 이 경우에는 <code>read_csv()</code>에 파일의 위치를 포함한 이름을 입력하면 파일을 불러올 수 있다.</p>
<div class="figure">
<img src="Figure/data3_1.png" title="data3_1.txt" id="data3-1" alt="" />
<p class="caption">data3_1.txt</p>
</div>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="데이터-입력.html#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/yjyjpark/R-and-statistical-analysis/master/Data/data3_1.txt&quot;</span>)</span>
<span id="cb294-2"><a href="데이터-입력.html#cb294-2" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 4 × 3</span></span>
<span id="cb294-3"><a href="데이터-입력.html#cb294-3" aria-hidden="true" tabindex="-1"></a><span class="do">##   `var 1` `var 2` `var 3`</span></span>
<span id="cb294-4"><a href="데이터-입력.html#cb294-4" aria-hidden="true" tabindex="-1"></a><span class="do">##     &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;</span></span>
<span id="cb294-5"><a href="데이터-입력.html#cb294-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 1      24 M          2000</span></span>
<span id="cb294-6"><a href="데이터-입력.html#cb294-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 2      35 F          3100</span></span>
<span id="cb294-7"><a href="데이터-입력.html#cb294-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 3      28 F          3800</span></span>
<span id="cb294-8"><a href="데이터-입력.html#cb294-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 4      21 F          2800</span></span></code></pre></div>
<p>함수 <code>read_csv()</code>로 생성된 <code>tibble</code>의 변수 이름이 backtick(`) 기호로 감싸져 있는 것을 볼 수 있다.
R에서 변수 이름은 반드시 문자로 시작해야 하며, 중간에 빈칸이 없어야 하는 등의 규칙이 있는데,
이러한 규칙에 어긋난 문자열이라도 <code>tibble</code>에서는 backtick 기호로 감싸서 정상적인 변수 이름으로 사용하고 있음을 보여주고 있다. Backtick 기호는 키보드에서 tab 키 바로 위에 있는 것이며, 인용부호와는 다른 기호이다.</p>
<p>함수 <code>read_table()</code>에서 살펴보았던 <code>col_types</code>, <code>col_names</code>, <code>na</code>, <code>comment</code>, <code>skip</code>은 <code>read_csv()</code>에서도 동일하게 작동되는 요소들이다. 예를 들어 <code>data3_2.txt</code>에 다음과 같이 자료가 입력되어 있다고 하자. 첫 줄에 주석이 있고, 결측값이 기호 <code>NA</code>와 점(.)으로 표시되어 있으며, 변수 이름은 입력되지 않았다.</p>
<div class="figure">
<img src="Figure/data3_2.png" title="data3_2.txt" id="data3-2" alt="" />
<p class="caption">data3_2.txt</p>
</div>
<p>이제 각 변수의 유형을 스스로 파악하게 해 보자.</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="데이터-입력.html#cb295-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/yjyjpark/R-and-statistical-analysis/master/Data/data3_2.txt&quot;</span>, </span>
<span id="cb295-2"><a href="데이터-입력.html#cb295-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">col_names =</span> <span class="cn">FALSE</span>, </span>
<span id="cb295-3"><a href="데이터-입력.html#cb295-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">comment =</span> <span class="st">&quot;#&quot;</span>, </span>
<span id="cb295-4"><a href="데이터-입력.html#cb295-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">na =</span> <span class="fu">c</span>(<span class="st">&quot;.&quot;</span>, <span class="st">&quot;NA&quot;</span>))</span>
<span id="cb295-5"><a href="데이터-입력.html#cb295-5" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 4 × 3</span></span>
<span id="cb295-6"><a href="데이터-입력.html#cb295-6" aria-hidden="true" tabindex="-1"></a><span class="do">##      X1 X2       X3</span></span>
<span id="cb295-7"><a href="데이터-입력.html#cb295-7" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;lgl&gt; &lt;dbl&gt;</span></span>
<span id="cb295-8"><a href="데이터-입력.html#cb295-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    24 NA     2000</span></span>
<span id="cb295-9"><a href="데이터-입력.html#cb295-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35 FALSE  3100</span></span>
<span id="cb295-10"><a href="데이터-입력.html#cb295-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    NA FALSE  3800</span></span>
<span id="cb295-11"><a href="데이터-입력.html#cb295-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    21 FALSE    NA</span></span></code></pre></div>
<p>위 실행결과에서 자세하게 살펴볼 두 가지 중요한 사항이 있다. 첫 번째 사항은 CSV 파일에서는 자료를 입력하지 않고 빈칸으로 남겨두면 결측값으로 자동 처리된다는 것이다. 이것은 빈칸으로 남겨져 있는 변수 <code>X1</code>의 세 번째 자료가 <code>NA</code>로 처리된 것으로 알 수 있다. 각 자료가 콤마로 구분되어 있다는 것은 곧 각 자료의 입력 영역이 확보되어 있다는 것을 의미하기 때문에 빈칸으로 남겨진 영역을 결측값으로 자연스럽게 처리할 수 있는 것이다. 하지만 결측값을 빈칸으로 그냥 남겨두는 것은 좋은 작업 방식은 아니라고 할 수 있다.</p>
<p>두 번째 사항은 변수 유형 파악에 오류가 발생할 수도 있으니 반드시 결과를 확인해야 한다는 것이다. 위 실행 결과에서 문자형 변수 <code>X2</code>의 유형이 논리형으로 파악됐는데, 이것은 변수 <code>X2</code>의 자료가 <code>NA</code>와 <code>F</code>로만 이루어져 있어서 <code>F</code>를 <code>FALSE</code>로 인식했기 때문이다. 이런 경우에는 변수 유형을 사용자가 직접 지정해야 한다.</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="데이터-입력.html#cb296-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/yjyjpark/R-and-statistical-analysis/master/Data/data3_2.txt&quot;</span>, </span>
<span id="cb296-2"><a href="데이터-입력.html#cb296-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">col_names =</span> <span class="cn">FALSE</span>, </span>
<span id="cb296-3"><a href="데이터-입력.html#cb296-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">col_types =</span> <span class="st">&quot;dcd&quot;</span>, </span>
<span id="cb296-4"><a href="데이터-입력.html#cb296-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">comment =</span> <span class="st">&quot;#&quot;</span>, </span>
<span id="cb296-5"><a href="데이터-입력.html#cb296-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">na =</span> <span class="fu">c</span>(<span class="st">&quot;.&quot;</span>, <span class="st">&quot;NA&quot;</span>))</span>
<span id="cb296-6"><a href="데이터-입력.html#cb296-6" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 4 × 3</span></span>
<span id="cb296-7"><a href="데이터-입력.html#cb296-7" aria-hidden="true" tabindex="-1"></a><span class="do">##      X1 X2       X3</span></span>
<span id="cb296-8"><a href="데이터-입력.html#cb296-8" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;</span></span>
<span id="cb296-9"><a href="데이터-입력.html#cb296-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    24 &lt;NA&gt;   2000</span></span>
<span id="cb296-10"><a href="데이터-입력.html#cb296-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35 F      3100</span></span>
<span id="cb296-11"><a href="데이터-입력.html#cb296-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    NA F      3800</span></span>
<span id="cb296-12"><a href="데이터-입력.html#cb296-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    21 F        NA</span></span></code></pre></div>
</div>
<div id="함수-read_fwf로-고정-포맷-구조를-갖는-데이터-파일-불러오기" class="section level3 hasAnchor" number="3.1.3">
<h3><span class="header-section-number">3.1.3</span> 함수 <code>read_fwf()</code>로 고정 포맷 구조를 갖는 데이터 파일 불러오기<a href="데이터-입력.html#함수-read_fwf로-고정-포맷-구조를-갖는-데이터-파일-불러오기" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>데이터 파일 중에는 각 자료의 입력 위치가 고정되어 있는 경우가 있다. 예를 들어 파일 <code>data4.txt</code>에 다음과 같은 형식으로 세 변수의 데이터가 입력되어 있다고 하자.</p>
<div class="figure">
<img src="Figure/data4.png" title="data4.txt" id="data4" alt="" />
<p class="caption">data4.txt</p>
</div>
<p>변수 <code>age</code>는 1-2열, <code>gender</code>는 3열, <code>income</code>은 4-7열에 각각 입력되어 있다. 이러한 경우 각 자료들이 빈칸이나 콤마 등으로 구분되어 있어야만 사용할 수 있는 함수 <code>read_table()</code> 또는 <code>read_csv()</code> 등은 그야말로 무용지물이 된다. 이러한 형식의 파일을 읽기 위해서는 각 자료의 고정된 위치를 지정할 수 있어야 하는데, 함수 <code>read_fwf()</code>에 바로 그러한 기능이 있다. 고정된 위치 지정은 입력 요소 <code>col_positions</code>에 함수 <code>fwf_widths</code>() 또는 <code>fwf_positions()</code>를 연결하는 것이다. 각 변수의 자료가 입력되는 영역의 폭으로 위치를 지정하는 것은 <code>fwf_widths(widths, col_names)</code>로 하면 되고, 각 변수의 시작 열과 끝 열을 지정해서 자료의 위치를 나타내기 위해서는 <code>fwf_positions(start, end, col_names)</code>로 하면 된다. 옵션 <code>col_names</code>를 생략하면 변수 이름은 <code>X1</code>, <code>X2</code>, <code>X3</code> 등으로 지정된다.</p>
<p>이제 <code>data4.txt</code>를 읽어보자. <code>fwf_widths()</code>에 <code>widths=c(2,1,4)</code>를 지정하면 첫 번째 변수 <code>age</code>는 두 개의 열, 두 번째 변수 <code>gender</code>는 한 개의 열, 마지막 변수 <code>income</code>은 네 개의 열을 차지하고 있다는 것이다.</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="데이터-입력.html#cb297-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_fwf</span>(<span class="st">&quot;https://raw.githubusercontent.com/yjyjpark/R-and-statistical-analysis/master/Data/data4.txt&quot;</span>, </span>
<span id="cb297-2"><a href="데이터-입력.html#cb297-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">col_positions =</span> <span class="fu">fwf_widths</span>(<span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">4</span>), </span>
<span id="cb297-3"><a href="데이터-입력.html#cb297-3" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">col_names =</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;income&quot;</span>)))</span>
<span id="cb297-4"><a href="데이터-입력.html#cb297-4" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 4 × 3</span></span>
<span id="cb297-5"><a href="데이터-입력.html#cb297-5" aria-hidden="true" tabindex="-1"></a><span class="do">##     age gender income</span></span>
<span id="cb297-6"><a href="데이터-입력.html#cb297-6" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;</span></span>
<span id="cb297-7"><a href="데이터-입력.html#cb297-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    24 M        2000</span></span>
<span id="cb297-8"><a href="데이터-입력.html#cb297-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35 F        3100</span></span>
<span id="cb297-9"><a href="데이터-입력.html#cb297-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    28 F        3800</span></span>
<span id="cb297-10"><a href="데이터-입력.html#cb297-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    21 F        2800</span></span></code></pre></div>
<p><code>fwf_positions()</code>에 <code>start=c(1,3,4)</code>와 <code>end=c(2,3,7)</code>을 지정하면 첫 번째 변수 <code>age</code>는 1~2열에, 두 번째 변수 <code>gender</code>는 3열에, 마지막 변수 <code>income</code>은 4~7열에 입력되어 있다는 것을 나타낸다.</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="데이터-입력.html#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_fwf</span>(<span class="st">&quot;https://raw.githubusercontent.com/yjyjpark/R-and-statistical-analysis/master/Data/data4.txt&quot;</span>, </span>
<span id="cb298-2"><a href="데이터-입력.html#cb298-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">col_positions =</span> <span class="fu">fwf_positions</span>(<span class="at">start =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>),</span>
<span id="cb298-3"><a href="데이터-입력.html#cb298-3" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">end =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">7</span>),</span>
<span id="cb298-4"><a href="데이터-입력.html#cb298-4" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">col_names =</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;income&quot;</span>)))</span>
<span id="cb298-5"><a href="데이터-입력.html#cb298-5" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 4 × 3</span></span>
<span id="cb298-6"><a href="데이터-입력.html#cb298-6" aria-hidden="true" tabindex="-1"></a><span class="do">##     age gender income</span></span>
<span id="cb298-7"><a href="데이터-입력.html#cb298-7" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;</span></span>
<span id="cb298-8"><a href="데이터-입력.html#cb298-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    24 M        2000</span></span>
<span id="cb298-9"><a href="데이터-입력.html#cb298-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35 F        3100</span></span>
<span id="cb298-10"><a href="데이터-입력.html#cb298-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    28 F        3800</span></span>
<span id="cb298-11"><a href="데이터-입력.html#cb298-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    21 F        2800</span></span></code></pre></div>
<ul>
<li>RStudio 메뉴에서 불러오기</li>
</ul>
<p>외부 텍스트 파일을 불러오는 작업은 RStudio의 메뉴를 이용해서도 할 수 있다. 메인 메뉴 에서 <code>File &gt; Import Dataset &gt; From Text (readr)…</code> 을 선택하면 나타나는 별도의 창에서 필요한 사항을 선택하면 <code>read_table()</code> 혹은 <code>read_csv()</code> 등을 사용하여 파일을 불러오게 된다. 만일 base R 함수인 <code>read.table()</code> 혹은 <code>read.csv()</code> 등을 이용하고자 한다면 <code>File &gt; Import Dataset &gt; From Text (base)…</code>을 선택해서 불러올 수 있다. 또한 다음 절에서 살펴볼 Excel 파일이나, SAS 데이터 파일 등을 불러오는 작업도 <code>File &gt; Import Dataset</code>의 하부 메뉴를 이용해서 할 수 있다.</p>
<ul>
<li>데이터 프레임을 외부 텍스트 파일로 저장하기</li>
</ul>
<p>R에서 생성되고 수정된 데이터 프레임을 외부 텍스트 파일로 저장시켜 다른 소프트웨어에서도 사용할 수 있도록 하는 것도 중요한 작업이다. 데이터 프레임을 외부 텍스트 파일로 저장하는 작업은 자료들을 어떤 기호로 구분할 것인지에 따라 패키지 <code>readr</code>의 함수 <code>write_delim()</code>, <code>write_csv()</code> 또는 <code>write_tsv()</code> 등을 사용할 수 있다. 자료들을 빈칸으로 구분하려면 <code>write_delim()</code>, 콤마로 구분하려면 <code>write_csv()</code>, 탭으로 구분하려면 <code>write_tsv()</code>를 사용하면 된다. 데이터 프레임을 외부 텍스트 파일로 저장하는 작업은 <code>write.csv()</code>와 같은 base R 함수로도 할 수 있다. Base R의 함수들은 데이터 프레임의 행 이름을 텍스트 파일의 첫 번째 열에 배치하고, 모든 문자 및 변수 이름에 인용부호를 붙이는 것이 디폴트인 반면에 패키지 <code>readr</code>의 함수들은 데이터 프레임의 행 이름을 절대 저장하지 않으며 인용 부호는 필요한 경우에만 사용된다. 또한 패키지 <code>readr</code>의 함수들의 실행 속도가 2배 정도 빠른 것으로 되어 있다.</p>
<p>Base 패키지인 <code>datasets</code>에 있는 데이터 프레임 <code>women</code>은 30대 미국 여성 15명의 몸무게와 키가 측정되어 있는 데이터 세트이다. 키는 인치 단위, 몸무게는 파운드 단위로 측정되었다. 데이터 프레임 <code>women</code>을 <code>Data</code> 폴더에 텍스트 파일로 저장하기 위해 다음 프로그램을 각각 실행해 보고 생성되는 텍스트 파일을 확인하기 바란다.</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="데이터-입력.html#cb299-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_delim</span>(women, <span class="st">&quot;Data/women.txt&quot;</span>)</span>
<span id="cb299-2"><a href="데이터-입력.html#cb299-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(women, <span class="st">&quot;Data/women.csv&quot;</span>)</span>
<span id="cb299-3"><a href="데이터-입력.html#cb299-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write_tsv</span>(women, <span class="st">&quot;Data/women.tsv&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="excel-파일-불러오기" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Excel 파일 불러오기<a href="데이터-입력.html#excel-파일-불러오기" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Excel에서 데이터를 만들고 가공하는 경우가 많기 때문에 Excel 스프레드시트에 있는 데이터를 R로 불러오는 것은 상당히 중요한 작업이 된다. Excel 파일을 R로 불러오는 방법에는 몇가지가 있는데, 그 중 <code>tidyverse</code>에 속한 패키지 <code>readxl</code>의 함수 <code>read_excel()</code>의 사용법을 살펴보자. 함수 <code>read_excel()</code>은 Excel 2003 이하 버전의 파일 형식인 xls 파일과 Excel 2007 이상 버전의 파일 형식인 xlsx 파일을 모두 불러올 수 있다. 다만 아직은 함수에 URL을 입력해서 웹 서버에 있는 Excel 파일을 직접 불러올 수는 없다.</p>
<p>예제 데이터로 폴더 <code>Data</code>에 있는 파일 data5.xlsx`에 다음과 같이 자료가 입력되어 있다고 하자. 자료는 첫 번째 시트에 입력되어 있다.</p>
<div class="figure">
<img src="Figure/data5.png" title="data5.xlsx" id="data5" alt="" />
<p class="caption">data5.xlsx</p>
</div>
<p>입력할 데이터가 있는 시트 번호를 지정하지 않으면, 디폴트로 첫 번째 시트의 데이터를 입력한다. 만일 다른 시트의 데이터를 입력하고자 한다면, 옵션 <code>sheet</code>에 시트 번호를 지정하면 된다.</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="데이터-입력.html#cb300-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb300-2"><a href="데이터-입력.html#cb300-2" aria-hidden="true" tabindex="-1"></a><span class="fu">read_excel</span>(<span class="st">&quot;Data/data5.xlsx&quot;</span>)</span>
<span id="cb300-3"><a href="데이터-입력.html#cb300-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 × 3</span></span>
<span id="cb300-4"><a href="데이터-입력.html#cb300-4" aria-hidden="true" tabindex="-1"></a><span class="do">##     age gender income</span></span>
<span id="cb300-5"><a href="데이터-입력.html#cb300-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;</span></span>
<span id="cb300-6"><a href="데이터-입력.html#cb300-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    24 M        2000</span></span>
<span id="cb300-7"><a href="데이터-입력.html#cb300-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35 F        3100</span></span>
<span id="cb300-8"><a href="데이터-입력.html#cb300-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    28 F        3800</span></span>
<span id="cb300-9"><a href="데이터-입력.html#cb300-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    21 F        2800</span></span>
<span id="cb300-10"><a href="데이터-입력.html#cb300-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    31 M        3500</span></span></code></pre></div>
<p>시트의 전체 데이터 중 일부분만을 입력하고자 한다면, 옵션 <code>range</code>에 입력하고자 하는 데이터 범위 사각형의 왼쪽 위 모서리와 오른쪽 아래 모서리의 셀 번호를 지정하면 된다.</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="데이터-입력.html#cb301-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_excel</span>(<span class="st">&quot;Data/data5.xlsx&quot;</span>, <span class="at">range =</span> <span class="st">&quot;A1:B5&quot;</span>)</span>
<span id="cb301-2"><a href="데이터-입력.html#cb301-2" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 4 × 2</span></span>
<span id="cb301-3"><a href="데이터-입력.html#cb301-3" aria-hidden="true" tabindex="-1"></a><span class="do">##     age gender</span></span>
<span id="cb301-4"><a href="데이터-입력.html#cb301-4" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;chr&gt; </span></span>
<span id="cb301-5"><a href="데이터-입력.html#cb301-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    24 M     </span></span>
<span id="cb301-6"><a href="데이터-입력.html#cb301-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35 F     </span></span>
<span id="cb301-7"><a href="데이터-입력.html#cb301-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    28 F     </span></span>
<span id="cb301-8"><a href="데이터-입력.html#cb301-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    21 F</span></span></code></pre></div>
<ul>
<li>Excel 파일을 CSV 파일로 전환한 후 불러오기</li>
</ul>
<p>함수 <code>read_excel()</code>을 사용하면 Excel 파일을 R로 불러오는 데에는 큰 문제가 없겠지만, 어떤 이유로 해서 Excel 파일을 직접 R로 불러올 수 없는 경우에 대안으로 사용할 수 있는 방법이다. Excel 파일을 CSV 파일로 전환하여 저장하는 방법은 Excel의 메인 메뉴에서 <code>파일 &gt; 다른 이름으로 저장</code>을 선택한 후 CSV 파일 형식으로 저장하면 된다. 저장된 CSV 파일은 함수 <code>read_csv()</code>로 불러올 수 있다.</p>
</div>
<div id="sas-데이터-파일-불러오기" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> SAS 데이터 파일 불러오기<a href="데이터-입력.html#sas-데이터-파일-불러오기" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>SAS는 범용 통계 소프트웨어로서 매우 두터운 사용자 층을 형성하고 있다. 따라서 SAS 전용 데이터 파일을 R로 불러오는 것도 중요한 작업이다. SAS 전용 데이터 파일을 R로 직접 불러오는 방법을 알아보자.</p>
<ul>
<li>패키지 <code>haven</code>의 함수 <code>read_sas()</code>로 SAS 전용 데이터 파일 불러오기</li>
</ul>
<p>예를 들어 <code>Data</code> 폴더에 다음의 SAS 명령문으로 생성된 데이터 파일 <code>data6.sas7bdat</code>가 있다고 하자.</p>
<pre class="sas"><code>LIBNAME mysas &#39;D:\Data&#39;;

DATA mysas.data6;
INPUT age gender $ income;
CARDS;
24 M 2000
35 F 3100
28 F 3800
21 F 3500
31 M 3500
RUN;</code></pre>
<p>패키지 <code>haven</code>도 <code>tidyverse</code> 계열에 속하는 패키지이므로, 함수 <code>read_sas()</code>은 tibble을 생성한다.</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="데이터-입력.html#cb303-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb303-2"><a href="데이터-입력.html#cb303-2" aria-hidden="true" tabindex="-1"></a><span class="fu">read_sas</span>(<span class="st">&quot;Data/data6.sas7bdat&quot;</span>)</span>
<span id="cb303-3"><a href="데이터-입력.html#cb303-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 × 3</span></span>
<span id="cb303-4"><a href="데이터-입력.html#cb303-4" aria-hidden="true" tabindex="-1"></a><span class="do">##     age gender income</span></span>
<span id="cb303-5"><a href="데이터-입력.html#cb303-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;</span></span>
<span id="cb303-6"><a href="데이터-입력.html#cb303-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    24 M        2000</span></span>
<span id="cb303-7"><a href="데이터-입력.html#cb303-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35 F        3100</span></span>
<span id="cb303-8"><a href="데이터-입력.html#cb303-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    28 F        3800</span></span>
<span id="cb303-9"><a href="데이터-입력.html#cb303-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    21 F        3500</span></span>
<span id="cb303-10"><a href="데이터-입력.html#cb303-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    31 M        3500</span></span></code></pre></div>
<ul>
<li>SAS 전용 데이터 파일을 CSV 파일로 전환한 후 불러오기</li>
</ul>
<p>SAS 전용 데이터 파일은 SAS의 PROC EXPORT를 사용하여 CSV 파일로 전환하여 저장할 수 있다. Excel의 경우처럼 R로 직접 불러오는 방법에 대한 대안으로 사용할 수 있다. SAS 전용 데이터 파일인 <code>data6.sas7bdat</code>을 CSV 파일인 <code>data6.csv</code>로 출력하는 SAS 명령문은 다음과 같다.</p>
<pre class="sas"><code>LIBNAME mysas &#39;D:\Data&#39;;

PROC EXPORT DATA=mysas.data6
      OUTFILE=&#39;D:\Data\data6.csv&#39;
      DBMS=CSV;
RUN;</code></pre>
<p>패키지 <code>haven</code>에는 SPSS 데이터 파일과 Stata 데이터 파일을 불러올 수 있는 함수도 있다. SPSS 데이터 파일은 <code>read_spss()</code>, Stata DTA 파일은 <code>read_stata()</code>를 사용하면 어렵지 않게 불러올 수 있다.</p>
</div>
<div id="html-테이블-불러오기" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> HTML 테이블 불러오기<a href="데이터-입력.html#html-테이블-불러오기" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>웹 페이지를 보다 보면 중요한 정보가 있는 HTML 테이블을 자주 만나게 되는데, 이 테이블에 있는 데이터를 R로 바로 불러들일 수 있다면 분석 과정에 큰 도움이 될 것이다. 문제는 웹 페이지에 있는 HTML 테이블이라는 것이 사람들에게 시각적으로 보여지는 측면이 강조되는 대상이어서 거기에 있는 정보를 ‘긁어모아’ 컴퓨터에 입력하는 것이 조금 복잡한 작업이 될 수 있다는 점이다. 그러나 패키지 <code>rvest</code>를 이용하면 비교적 간편하게 HTML 테이블의 데이터를 긁어모아 R에 입력시킬 수 있다.</p>
<p>패키지 <code>rvest</code>에서 HTML 테이블을 불러오는데 필요한 함수는 <code>read_html()</code>과 <code>html_elements()</code>, <code>html_table()</code>이다. 함수 <code>read_html()</code>은 원하는 HTML 테이블이 있는 웹 페이지를 읽어오는 데 사용된다. HTML 테이블의 내용은 <code>&lt;table&gt;</code> 태그 사이에 존재하기 때문에 <code>&lt;table&gt;</code> 노드(node)를 찾는 것이 다음 순서인데, 이 작업은 함수 <code>html_elements()</code>로 할 수 있다. 이어서 선택된 노드의 HTML 테이블 데이터를 R로 불러오는 작업은 함수 <code>html_table()</code>로 하게 된다.</p>
<ul>
<li>예제 1: Wikipedia 웹 페이지에 있는 HTML 테이블 데이터 불러오기</li>
</ul>
<p>그림 <a href="데이터-입력.html#fig:wiki">3.1</a>은 <a href="https://en.wikipedia.org/wiki">Wikipedia</a>에서 “World population”을 검색하면 열리는 웹 페이지에 있는 “10 most densely populated countries”라는 제목의 HTML 테이블을 보여주고 있다. 검색은 2023-02-15에 실시된 것을 바탕으로 하고 있으며, 차후에 HTML 테이블의 배치가 변경되면 아래 예제 프로그램도 적절히 변경해야 할 것이다.</p>
<div class="figure"><span style="display:block;" id="fig:wiki"></span>
<img src="Figure/wiki_22_02_09_1.PNG" alt="예제 1에서 사용된 HTML 테이블" width="222" />
<p class="caption">
그림 3.1: 예제 1에서 사용된 HTML 테이블
</p>
</div>
<p>원하는 웹 페이지의 URL을 함수 <code>read_html()</code>에 입력하여 얻은 결과에서 <code>table</code> 노드를 함수 <code>html_elements()</code>로 찾아보자. 함수 <code>html_elements()</code>는 결과를 리스트 형태로 출력한다.</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="데이터-입력.html#cb305-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb305-2"><a href="데이터-입력.html#cb305-2" aria-hidden="true" tabindex="-1"></a>URL <span class="ot">&lt;-</span> <span class="st">&quot;https://en.wikipedia.org/wiki/World_population&quot;</span></span>
<span id="cb305-3"><a href="데이터-입력.html#cb305-3" aria-hidden="true" tabindex="-1"></a>web <span class="ot">&lt;-</span> <span class="fu">read_html</span>(URL)</span>
<span id="cb305-4"><a href="데이터-입력.html#cb305-4" aria-hidden="true" tabindex="-1"></a>tbl <span class="ot">&lt;-</span> <span class="fu">html_elements</span>(web, <span class="st">&quot;table&quot;</span>)</span></code></pre></div>
<p>모두 24개의 <code>table</code> 노드가 발견되었고, 그 중 처음 6개의 내용을 출력해 보자.</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="데이터-입력.html#cb306-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(tbl)</span>
<span id="cb306-2"><a href="데이터-입력.html#cb306-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 24</span></span></code></pre></div>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="데이터-입력.html#cb307-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tbl)</span>
<span id="cb307-2"><a href="데이터-입력.html#cb307-2" aria-hidden="true" tabindex="-1"></a><span class="do">## {xml_nodeset (6)}</span></span>
<span id="cb307-3"><a href="데이터-입력.html#cb307-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &lt;table class=&quot;wikitable&quot; style=&quot;text-align:center; float:right; clear:rig ...</span></span>
<span id="cb307-4"><a href="데이터-입력.html#cb307-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [2] &lt;table class=&quot;wikitable floatright&quot; style=&quot;font-size:90%&quot;&gt;\n&lt;caption&gt;Worl ...</span></span>
<span id="cb307-5"><a href="데이터-입력.html#cb307-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [3] &lt;table class=&quot;wikitable sortable&quot;&gt;\n&lt;caption&gt;Population by region (2020 e ...</span></span>
<span id="cb307-6"><a href="데이터-입력.html#cb307-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [4] &lt;table class=&quot;wikitable sortable&quot;&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;th scope=&quot;col&quot;&gt;Rank\n&lt;/ ...</span></span>
<span id="cb307-7"><a href="데이터-입력.html#cb307-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [5] &lt;table class=&quot;wikitable sortable&quot; style=&quot;text-align:right&quot;&gt;\n&lt;caption&gt;10  ...</span></span>
<span id="cb307-8"><a href="데이터-입력.html#cb307-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [6] &lt;table class=&quot;wikitable sortable&quot; style=&quot;text-align:right&quot;&gt;\n&lt;caption&gt;Cou ...</span></span></code></pre></div>
<p>함수 <code>html_elements()</code>의 결과로 생성된 리스트 객체인 tbl의 24개 구성요소 중 우리가 원하는 HTML 테이블에 해당되는 노드를 찾아서 함수 <code>html_table()</code>에 입력하면, 해당 테이블 데이터가 R로 입력된다. 문제는 몇 번째 노드가 우리가 원하는 테이블에 관한 것인지 알기가 어렵다는 점이다. 시행착오를 거치면, 원하는 테이블이 5번째 노드에 있다는 것을 알 수 있고, 따라서 <code>html_table(tbl[5])</code>을 실행하면 테이블의 데이터를 불러올 수 있다. 그러나 HTML 테이블이 많은 웹 페이지에서는 다른 체계적인 방법이 필요할 것이다.</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="데이터-입력.html#cb308-1" aria-hidden="true" tabindex="-1"></a><span class="fu">html_table</span>(tbl[<span class="dv">5</span>])</span>
<span id="cb308-2"><a href="데이터-입력.html#cb308-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb308-3"><a href="데이터-입력.html#cb308-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 10 × 5</span></span>
<span id="cb308-4"><a href="데이터-입력.html#cb308-4" aria-hidden="true" tabindex="-1"></a><span class="do">##     Rank Country        Population    `Area(km2)` `Density(pop/km2)`</span></span>
<span id="cb308-5"><a href="데이터-입력.html#cb308-5" aria-hidden="true" tabindex="-1"></a><span class="do">##    &lt;int&gt; &lt;chr&gt;          &lt;chr&gt;         &lt;chr&gt;       &lt;chr&gt;             </span></span>
<span id="cb308-6"><a href="데이터-입력.html#cb308-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  1     1 Singapore      5,921,231     719         8,235             </span></span>
<span id="cb308-7"><a href="데이터-입력.html#cb308-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  2     2 Bangladesh     165,650,475   148,460     1,116             </span></span>
<span id="cb308-8"><a href="데이터-입력.html#cb308-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  3     3 Palestine[103] 5,223,000     6,025       867               </span></span>
<span id="cb308-9"><a href="데이터-입력.html#cb308-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  4     4 Taiwan         23,580,712    35,980      655               </span></span>
<span id="cb308-10"><a href="데이터-입력.html#cb308-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  5     5 South Korea    51,844,834    99,720      520               </span></span>
<span id="cb308-11"><a href="데이터-입력.html#cb308-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  6     6 Lebanon        5,296,814     10,400      509               </span></span>
<span id="cb308-12"><a href="데이터-입력.html#cb308-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  7     7 Rwanda         13,173,730    26,338      500               </span></span>
<span id="cb308-13"><a href="데이터-입력.html#cb308-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  8     8 Burundi        12,696,478    27,830      456               </span></span>
<span id="cb308-14"><a href="데이터-입력.html#cb308-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  9     9 India          1,389,637,446 3,287,263   423               </span></span>
<span id="cb308-15"><a href="데이터-입력.html#cb308-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 10    10 Netherlands    17,400,824    41,543      419</span></span></code></pre></div>
<p>웹 페이지에서 HTML 테이블을 체계적으로 찾는 방법 중 하나는 해당 테이블 노드의 XPath를 알아내는 것이다. XPath는 웹 문서에서 원하는 태그나 속성 등을 쉽게 찾기 위해 개발된 것으로 윈도우의 파일 경로와 비슷한 개념이라고 하겠다.</p>
<p>크롬 웹 브라우저를 대상으로 웹 페이지에서 원하는 HTML 테이블의 XPath를 알아내는 방법은 다음과 같다.</p>
<ol style="list-style-type: decimal">
<li>원하는 웹 페이지로 이동</li>
<li>F12 키를 눌러서(또는 <code>마우스 오른쪽 버튼 클릭 &gt; 검사 클릭</code>) 개발자 도구 실행. 창이 분리되며 오른쪽 창에 html 코드가 나타남.</li>
<li>Ctrl + F 키를 눌러서 나타난 찾기 창에 <code>&lt;table</code>을 입력하고 찾기 실행</li>
<li>원하는 테이블에 해당되는 노드를 찾게 되면 그림 <a href="데이터-입력.html#fig:wiki2">3.2</a>에서와 같이 테이블이 하이라이트가 된다. 이어서 마우스 오른쪽 버튼을 클릭</li>
<li>나타난 별도 메뉴에서 <code>Copy &gt; Copy XPath</code>를 클릭</li>
</ol>
<div class="figure"><span style="display:block;" id="fig:wiki2"></span>
<img src="Figure/wiki_22_02_09_2.png" alt="예제 1의 HTML 테이블 XPath 복사" width="576" />
<p class="caption">
그림 3.2: 예제 1의 HTML 테이블 XPath 복사
</p>
</div>
<p>원하는 HTML 테이블의 XPath의 값은 <code>//*[@id="mw-content-text"]/div[1]/table[5]</code>이며, 이것을 함수 <code>html_elements()</code>안에 옵션 <code>xpath</code>에 지정하면 된다.</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="데이터-입력.html#cb309-1" aria-hidden="true" tabindex="-1"></a>X_path <span class="ot">&lt;-</span> <span class="st">&#39;//*[@id=&quot;mw-content-text&quot;]/div[1]/table[5]&#39;</span></span>
<span id="cb309-2"><a href="데이터-입력.html#cb309-2" aria-hidden="true" tabindex="-1"></a>node_1 <span class="ot">&lt;-</span> <span class="fu">html_elements</span>(web, <span class="at">xpath =</span> X_path)</span>
<span id="cb309-3"><a href="데이터-입력.html#cb309-3" aria-hidden="true" tabindex="-1"></a>tbl_1 <span class="ot">&lt;-</span> <span class="fu">html_table</span>(node_1)</span></code></pre></div>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="데이터-입력.html#cb310-1" aria-hidden="true" tabindex="-1"></a>tbl_1</span>
<span id="cb310-2"><a href="데이터-입력.html#cb310-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb310-3"><a href="데이터-입력.html#cb310-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 10 × 5</span></span>
<span id="cb310-4"><a href="데이터-입력.html#cb310-4" aria-hidden="true" tabindex="-1"></a><span class="do">##     Rank Country        Population    `Area(km2)` `Density(pop/km2)`</span></span>
<span id="cb310-5"><a href="데이터-입력.html#cb310-5" aria-hidden="true" tabindex="-1"></a><span class="do">##    &lt;int&gt; &lt;chr&gt;          &lt;chr&gt;         &lt;chr&gt;       &lt;chr&gt;             </span></span>
<span id="cb310-6"><a href="데이터-입력.html#cb310-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  1     1 Singapore      5,921,231     719         8,235             </span></span>
<span id="cb310-7"><a href="데이터-입력.html#cb310-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  2     2 Bangladesh     165,650,475   148,460     1,116             </span></span>
<span id="cb310-8"><a href="데이터-입력.html#cb310-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  3     3 Palestine[103] 5,223,000     6,025       867               </span></span>
<span id="cb310-9"><a href="데이터-입력.html#cb310-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  4     4 Taiwan         23,580,712    35,980      655               </span></span>
<span id="cb310-10"><a href="데이터-입력.html#cb310-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  5     5 South Korea    51,844,834    99,720      520               </span></span>
<span id="cb310-11"><a href="데이터-입력.html#cb310-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  6     6 Lebanon        5,296,814     10,400      509               </span></span>
<span id="cb310-12"><a href="데이터-입력.html#cb310-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  7     7 Rwanda         13,173,730    26,338      500               </span></span>
<span id="cb310-13"><a href="데이터-입력.html#cb310-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  8     8 Burundi        12,696,478    27,830      456               </span></span>
<span id="cb310-14"><a href="데이터-입력.html#cb310-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  9     9 India          1,389,637,446 3,287,263   423               </span></span>
<span id="cb310-15"><a href="데이터-입력.html#cb310-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 10    10 Netherlands    17,400,824    41,543      419</span></span></code></pre></div>
<p>함수 <code>html_table()</code>로 생성된 객체 <code>tbl_1</code>은 하나의 데이터 프레임으로 구성된 리스트이다. 변수 이름을 수정하고 입력된 자료를 출력해 보자..</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="데이터-입력.html#cb311-1" aria-hidden="true" tabindex="-1"></a>top_pop <span class="ot">&lt;-</span> tbl_1[[<span class="dv">1</span>]]</span>
<span id="cb311-2"><a href="데이터-입력.html#cb311-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(top_pop) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;rank&quot;</span>, <span class="st">&quot;country&quot;</span>, <span class="st">&quot;pop&quot;</span>, <span class="st">&quot;area&quot;</span>, <span class="st">&quot;density&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="데이터-입력.html#cb312-1" aria-hidden="true" tabindex="-1"></a>top_pop</span>
<span id="cb312-2"><a href="데이터-입력.html#cb312-2" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 10 × 5</span></span>
<span id="cb312-3"><a href="데이터-입력.html#cb312-3" aria-hidden="true" tabindex="-1"></a><span class="do">##     rank country        pop           area      density</span></span>
<span id="cb312-4"><a href="데이터-입력.html#cb312-4" aria-hidden="true" tabindex="-1"></a><span class="do">##    &lt;int&gt; &lt;chr&gt;          &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt;  </span></span>
<span id="cb312-5"><a href="데이터-입력.html#cb312-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  1     1 Singapore      5,921,231     719       8,235  </span></span>
<span id="cb312-6"><a href="데이터-입력.html#cb312-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  2     2 Bangladesh     165,650,475   148,460   1,116  </span></span>
<span id="cb312-7"><a href="데이터-입력.html#cb312-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  3     3 Palestine[103] 5,223,000     6,025     867    </span></span>
<span id="cb312-8"><a href="데이터-입력.html#cb312-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  4     4 Taiwan         23,580,712    35,980    655    </span></span>
<span id="cb312-9"><a href="데이터-입력.html#cb312-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  5     5 South Korea    51,844,834    99,720    520    </span></span>
<span id="cb312-10"><a href="데이터-입력.html#cb312-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  6     6 Lebanon        5,296,814     10,400    509    </span></span>
<span id="cb312-11"><a href="데이터-입력.html#cb312-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  7     7 Rwanda         13,173,730    26,338    500    </span></span>
<span id="cb312-12"><a href="데이터-입력.html#cb312-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  8     8 Burundi        12,696,478    27,830    456    </span></span>
<span id="cb312-13"><a href="데이터-입력.html#cb312-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  9     9 India          1,389,637,446 3,287,263 423    </span></span>
<span id="cb312-14"><a href="데이터-입력.html#cb312-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 10    10 Netherlands    17,400,824    41,543    419</span></span></code></pre></div>
<p>변수 <code>pop</code>, <code>area</code>, <code>density</code>이 숫자가 아닌 문자형 벡터로 입력되었음을 알 수 있다. 이것은 숫자에 콤마가 함께 입력되어 있기 때문인데, 이제 변수 <code>pop</code>을 숫자형으로 변환하여 평균을 구해 보자. 숫자형으로 변환하는 방법은 <code>pop</code>에 포함된 콤마를 함수 <code>gsub()</code>를 사용하여 제거하고, 이어서 함수 <code>as.numeric()</code>을 사용하여 유형을 숫자형으로 변환하면 된다.</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="데이터-입력.html#cb313-1" aria-hidden="true" tabindex="-1"></a>pop <span class="ot">&lt;-</span> top_pop<span class="sc">$</span>pop</span>
<span id="cb313-2"><a href="데이터-입력.html#cb313-2" aria-hidden="true" tabindex="-1"></a>pop <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;,&quot;</span>, <span class="st">&quot;&quot;</span>, pop)</span></code></pre></div>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="데이터-입력.html#cb314-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">as.numeric</span>(pop))</span>
<span id="cb314-2"><a href="데이터-입력.html#cb314-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 169042554</span></span></code></pre></div>
<ul>
<li>예제 2: KBO 홈페이지 기록실에 있는 자료 불러오기</li>
</ul>
<p><a href="https://www.koreabaseball.com/Record/Team/Hitter/Basic1.aspx">KBO 홈페이지의 기록실</a>에 있는 자료를 불러와 보자. 자료를 불러온 시점은 2023-02-15이며, 내용은 KBO 정규 시즌 중 타자들의 팀 기록이다. 불러오고자 하는 HTML 테이블은 그림 <a href="데이터-입력.html#fig:KBO">3.3</a>에서 볼 수 있다. 해당 웹 페이지에는 하나의 HTML 테이블만이 있기 때문에 굳이 XPath를 복사해야 할 필요는 없다. 한글이 포함된 HTML 테이블을 불러와 보자.</p>
<div class="figure"><span style="display:block;" id="fig:KBO"></span>
<img src="Figure/KBO.PNG" alt="예제 2에서 사용된 HTML 테이블" width="566" />
<p class="caption">
그림 3.3: 예제 2에서 사용된 HTML 테이블
</p>
</div>
<p>R 버전 4.2.0부터 한글 인코딩이 UTF-8 방식으로 되어 있다면, locale 조정 없이 바로 불러올 수 있다.</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="데이터-입력.html#cb315-1" aria-hidden="true" tabindex="-1"></a>URL_2 <span class="ot">&lt;-</span> <span class="st">&quot;https://www.koreabaseball.com/Record/Team/Hitter/Basic1.aspx&quot;</span></span>
<span id="cb315-2"><a href="데이터-입력.html#cb315-2" aria-hidden="true" tabindex="-1"></a>web_2 <span class="ot">&lt;-</span> <span class="fu">read_html</span>(URL_2)</span>
<span id="cb315-3"><a href="데이터-입력.html#cb315-3" aria-hidden="true" tabindex="-1"></a>node_2 <span class="ot">&lt;-</span> <span class="fu">html_elements</span>(web_2, <span class="st">&quot;table&quot;</span>)</span>
<span id="cb315-4"><a href="데이터-입력.html#cb315-4" aria-hidden="true" tabindex="-1"></a>tbl_2 <span class="ot">&lt;-</span> <span class="fu">html_table</span>(node_2)[[<span class="dv">1</span>]]</span></code></pre></div>
<p>합계가 들어간 마지막 행을 삭제하고, 결과를 출력해 보자.</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="데이터-입력.html#cb316-1" aria-hidden="true" tabindex="-1"></a>tbl_2 <span class="ot">&lt;-</span> tbl_2[<span class="sc">-</span><span class="fu">nrow</span>(tbl_2),]</span>
<span id="cb316-2"><a href="데이터-입력.html#cb316-2" aria-hidden="true" tabindex="-1"></a>tbl_2</span>
<span id="cb316-3"><a href="데이터-입력.html#cb316-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 10 × 15</span></span>
<span id="cb316-4"><a href="데이터-입력.html#cb316-4" aria-hidden="true" tabindex="-1"></a><span class="do">##    순위  팀명    AVG     G    PA    AB     R     H  `2B`  `3B`    HR    TB   RBI</span></span>
<span id="cb316-5"><a href="데이터-입력.html#cb316-5" aria-hidden="true" tabindex="-1"></a><span class="do">##    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span id="cb316-6"><a href="데이터-입력.html#cb316-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  1 1     KIA   0.272   144  5703  5000   720  1361   250    19   113  1988   677</span></span>
<span id="cb316-7"><a href="데이터-입력.html#cb316-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  2 2     삼성  0.27    144  5647  5023   663  1358   241    19   103  1946   627</span></span>
<span id="cb316-8"><a href="데이터-입력.html#cb316-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  3 3     LG    0.269   144  5627  4927   715  1325   208    33   118  1953   674</span></span>
<span id="cb316-9"><a href="데이터-입력.html#cb316-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  4 4     롯데  0.267   144  5534  4948   605  1320   227    16   106  1897   570</span></span>
<span id="cb316-10"><a href="데이터-입력.html#cb316-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  5 5     NC    0.257   144  5585  4899   646  1260   230    15   105  1835   613</span></span>
<span id="cb316-11"><a href="데이터-입력.html#cb316-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  6 6     두산  0.255   144  5510  4891   638  1249   210    12   101  1786   592</span></span>
<span id="cb316-12"><a href="데이터-입력.html#cb316-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  7 7     SSG   0.254   144  5642  4893   720  1245   242    18   138  1937   682</span></span>
<span id="cb316-13"><a href="데이터-입력.html#cb316-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  8 8     KT    0.254   144  5547  4864   631  1237   192    19   119  1824   588</span></span>
<span id="cb316-14"><a href="데이터-입력.html#cb316-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  9 9     키움  0.252   144  5655  4953   621  1250   203    33    94  1801   578</span></span>
<span id="cb316-15"><a href="데이터-입력.html#cb316-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 10    한화  0.245   144  5513  4878   564  1196   217    19    88  1715   520</span></span>
<span id="cb316-16"><a href="데이터-입력.html#cb316-16" aria-hidden="true" tabindex="-1"></a><span class="do">## # … with 2 more variables: SAC &lt;int&gt;, SF &lt;int&gt;</span></span></code></pre></div>
<p>일반적으로 웹 페이지에 있는 HTML 테이블을 R로 불러온 후에도 실제 분석 데이터로 사용하기 위해서는 많은 추가 작업이 필요하게 된다.</p>
</div>
<div id="연습문제-1" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> 연습문제<a href="데이터-입력.html#연습문제-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>1.</strong> 다음은 Wikipedia에서 covid-19 관련 자료가 있는 웹 페이지(<a href="https://en.wikipedia.org/wiki/COVID-19_pandemic_by_country_and_territory">https://en.wikipedia.org/wiki/COVID-19_pandemic_by_country_and_territory)</a>에 있는 HTML 테이블의 일부분이다.</p>
<p><img src="Figure/ch3_ex1.PNG" width="400" /></p>
<ul>
<li>R로 불러와서 tibble <code>ex3_1</code>에 입력하고, 다음과 같이 출력해 보자.</li>
</ul>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="데이터-입력.html#cb317-1" aria-hidden="true" tabindex="-1"></a>ex3_1</span>
<span id="cb317-2"><a href="데이터-입력.html#cb317-2" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 223 × 4</span></span>
<span id="cb317-3"><a href="데이터-입력.html#cb317-3" aria-hidden="true" tabindex="-1"></a><span class="do">##    ``    Location          `Vaccinated[a]` `Percent[b]`</span></span>
<span id="cb317-4"><a href="데이터-입력.html#cb317-4" aria-hidden="true" tabindex="-1"></a><span class="do">##    &lt;chr&gt; &lt;chr&gt;             &lt;chr&gt;           &lt;chr&gt;       </span></span>
<span id="cb317-5"><a href="데이터-입력.html#cb317-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  1 &quot;&quot;    World[c][d]       5,536,920,348   69.43%      </span></span>
<span id="cb317-6"><a href="데이터-입력.html#cb317-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  2 &quot;&quot;    China[e]          1,310,292,000   91.89%      </span></span>
<span id="cb317-7"><a href="데이터-입력.html#cb317-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  3 &quot;&quot;    India             1,027,361,364   72.49%      </span></span>
<span id="cb317-8"><a href="데이터-입력.html#cb317-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  4 &quot;&quot;    European Union[f] 338,175,450     75.13%      </span></span>
<span id="cb317-9"><a href="데이터-입력.html#cb317-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  5 &quot;&quot;    United States[g]  269,208,743     81.08%      </span></span>
<span id="cb317-10"><a href="데이터-입력.html#cb317-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  6 &quot;&quot;    Indonesia         203,657,535     73.92%      </span></span>
<span id="cb317-11"><a href="데이터-입력.html#cb317-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  7 &quot;&quot;    Brazil            189,146,039     87.85%      </span></span>
<span id="cb317-12"><a href="데이터-입력.html#cb317-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  8 &quot;&quot;    Pakistan          162,206,190     68.78%      </span></span>
<span id="cb317-13"><a href="데이터-입력.html#cb317-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  9 &quot;&quot;    Bangladesh        151,054,434     88.24%      </span></span>
<span id="cb317-14"><a href="데이터-입력.html#cb317-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 &quot;&quot;    Japan             104,644,332     84.42%      </span></span>
<span id="cb317-15"><a href="데이터-입력.html#cb317-15" aria-hidden="true" tabindex="-1"></a><span class="do">## # … with 213 more rows</span></span></code></pre></div>
<ul>
<li>자료가 없는 <code>ex3_1</code>의 첫 번째 변수를 제거하고, 세 번째 변수 Vaccinated[a]와 네 번째 변수 Percent[b]는 이름을 <code>Vaccinated</code>와 <code>Percent</code>로 변경하자. 또한 첫 번째 행과 자료가 잘못 입력된 마지막 행도 제거해 보자. 변경된 데이터 프레임의 처음 3개 행과 마지막 3개 행의 내용은 다음과 같다.</li>
</ul>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="데이터-입력.html#cb318-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ex3_1, <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb318-2"><a href="데이터-입력.html#cb318-2" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 3 × 3</span></span>
<span id="cb318-3"><a href="데이터-입력.html#cb318-3" aria-hidden="true" tabindex="-1"></a><span class="do">##   Location          Vaccinated    Percent</span></span>
<span id="cb318-4"><a href="데이터-입력.html#cb318-4" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;chr&gt;             &lt;chr&gt;         &lt;chr&gt;  </span></span>
<span id="cb318-5"><a href="데이터-입력.html#cb318-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 China[e]          1,310,292,000 91.89% </span></span>
<span id="cb318-6"><a href="데이터-입력.html#cb318-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 India             1,027,361,364 72.49% </span></span>
<span id="cb318-7"><a href="데이터-입력.html#cb318-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 European Union[f] 338,175,450   75.13%</span></span></code></pre></div>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="데이터-입력.html#cb319-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(ex3_1, <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb319-2"><a href="데이터-입력.html#cb319-2" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 3 × 3</span></span>
<span id="cb319-3"><a href="데이터-입력.html#cb319-3" aria-hidden="true" tabindex="-1"></a><span class="do">##   Location         Vaccinated Percent</span></span>
<span id="cb319-4"><a href="데이터-입력.html#cb319-4" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;chr&gt;            &lt;chr&gt;      &lt;chr&gt;  </span></span>
<span id="cb319-5"><a href="데이터-입력.html#cb319-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 Niue             1,650      102.23%</span></span>
<span id="cb319-6"><a href="데이터-입력.html#cb319-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 Pitcairn Islands 47         100.00%</span></span>
<span id="cb319-7"><a href="데이터-입력.html#cb319-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 North Korea      0          0.00%</span></span></code></pre></div>
<ul>
<li>변수 <code>Percent</code>는 백신 접종률을 나타내는 변수이다. 백신 접종률이 95%를 초과하는 나라를 선택해서 <code>ex3_2</code>에 입력하고, 다음과 같이 출력해 보자.</li>
</ul>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="데이터-입력.html#cb320-1" aria-hidden="true" tabindex="-1"></a>ex3_2</span>
<span id="cb320-2"><a href="데이터-입력.html#cb320-2" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 10 × 3</span></span>
<span id="cb320-3"><a href="데이터-입력.html#cb320-3" aria-hidden="true" tabindex="-1"></a><span class="do">##    Location             Vaccinated Percent</span></span>
<span id="cb320-4"><a href="데이터-입력.html#cb320-4" aria-hidden="true" tabindex="-1"></a><span class="do">##    &lt;chr&gt;                     &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span id="cb320-5"><a href="데이터-입력.html#cb320-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  1 Cuba                   10725767    95.7</span></span>
<span id="cb320-6"><a href="데이터-입력.html#cb320-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  2 United Arab Emirates    9991089   100  </span></span>
<span id="cb320-7"><a href="데이터-입력.html#cb320-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  3 Portugal                9778625    95.2</span></span>
<span id="cb320-8"><a href="데이터-입력.html#cb320-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  4 Qatar                   2851272   106. </span></span>
<span id="cb320-9"><a href="데이터-입력.html#cb320-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  5 Macau                    678672    97.6</span></span>
<span id="cb320-10"><a href="데이터-입력.html#cb320-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  6 Brunei                   450404   100. </span></span>
<span id="cb320-11"><a href="데이터-입력.html#cb320-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  7 Gibraltar                 42175   129. </span></span>
<span id="cb320-12"><a href="데이터-입력.html#cb320-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  8 Tokelau                    2203   116. </span></span>
<span id="cb320-13"><a href="데이터-입력.html#cb320-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  9 Niue                       1650   102. </span></span>
<span id="cb320-14"><a href="데이터-입력.html#cb320-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 Pitcairn Islands             47   100</span></span></code></pre></div>
<p><strong>2.</strong> 웹서버 <code>https://raw.githubusercontent.com/yjyjpark/R-and-statistical-analysis/master/Data/</code>에 있는 파일 <code>ex3-1.csv</code>에는 1993년 미국에서 판매된 93대 자동차의 생산 회사(<code>Manufacturer</code>)와 차량 모델 (<code>Model</code>) 의 최소 가격 (<code>Min.Price</code>) 및 최대 가격 (<code>Max.Price</code>)이 입력되어 있다.</p>
<ul>
<li>파일 <code>ex3-1.csv</code>를 불러와서 데이터 프레임에 입력하고 다음과 같이 출력해 보자.</li>
</ul>
<pre><code>## # A tibble: 93 × 4
##   Manufacturer Model   Min.Price Max.Price 
##   &lt;chr&gt;        &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;     
## 1 Acura        Integra $12,900   $18,800.00
## 2 Acura        Legend  $29,200   $38,700.00
## 3 Audi         90      $25,900   $32,300.00
## # … with 90 more rows</code></pre>
<ul>
<li>변수 <code>Manufacturer</code>와 <code>Model</code>을 하나의 변수 <code>model</code>로 통합하고 , 변수 <code>Min.Price</code>와 <code>Max.Price</code>의 평균으로 변수 <code>price</code>를 생성해 보자.
이어서 두 변수 <code>model</code> 과 <code>price</code>로 이루어진 데이터 프레임을 만들어 다음과 같이 출력해 보자</li>
</ul>
<pre><code>## # A tibble: 93 × 2
##   model         price
##   &lt;chr&gt;         &lt;dbl&gt;
## 1 Acura Integra 15850
## 2 Acura Legend  33950
## 3 Audi 90       29100
## # … with 90 more rows</code></pre>
<ul>
<li>변수 <code>price</code>의 값이 가장 큰 자동차와 가장 작은 지동차의 <code>model</code> 값을 각각 구하고
두 자동차의 <code>price</code> 차이도 구해 보자</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-structure.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dplyr에-의한-데이터-다듬기.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
